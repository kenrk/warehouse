<!DOCTYPE html>
<html>
<head>
    <base target-top>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <?!= include('Stylesheet'); ?>
</head>
<body>
    <!-- Input tersembunyi untuk scanner desktop -->
    <input type="text" id="desktop-scanner-input" autocomplete="off">

    <!-- === HALAMAN 1: Pilihan Mode === -->
    <div id="mode-selection-view" class="container active">
        <div class="card">
            <h1>Warehouse Scanner</h1>
            <p>Pilih proses yang akan dilakukan:</p>
            <div class="button-group">
                <button id="select-production-btn">Scan Produksi</button>
                <button id="select-qc-btn">Scan QC</button>
                <button id="select-repair-btn">Scan Repair</button>
            </div>
        </div>
    </div>

    <!-- === HALAMAN 2: Scan Kamera === -->
    <div id="scan-view" class="container">
        <div class="card">
            <h1 id="scan-title">Scan QR</h1>
            <div id="qr-reader"></div>
            <!-- <p>Arahkan kamera ke QR Code atau gunakan scanner eksternal.</p> -->
            <div class="button-group">
                <button id="back-to-mode-btn">Kembali</button>
            </div>
        </div>
    </div>

    <!-- === HALAMAN 3: Status QC === -->
    <div id="qc-status-view" class="container">
        <div class="card">
            <h1>Pilih Status QC</h1>
            <p>Untuk QR Code:</p>
            <div id="scanned-qr-code" class="scanned-qr-display"></div>
            <div class="qc-btn-group">
                <button id="ok-btn" class="qc-btn ok">OK</button>
                <button id="ng-btn" class="qc-btn ng">NG</button>
            </div>
            <button id="cancel-qc-btn">Batal</button>
        </div>
    </div>

    <!-- === HALAMAN 4: Produksi Selesai === -->
    <div id="production-done-view" class="container">
        <div class="card">
            <h1 class="success-title">Produksi Selesai âœ…</h1>
            <p>QR Code berikut berhasil diproses:</p>
            <div id="production-done-qr" class="scanned-qr-display"></div>
            <button id="scan-again-btn">Scan Lagi</button>
        </div>
    </div>

    <!-- === HALAMAN 5: Repair Selesai === -->
    <div id="repair-done-view" class="container">
        <div class="card">
            <h1 id="repair-done-title" class="success-title"></h1> 
            <p>QR Code berikut berhasil diproses:</p>
            <div id="repair-done-qr" class="scanned-qr-display"></div>
            <button id="scan-again-repair-btn">Scan Lagi</button>
        </div>
    </div>

    <!-- Toast Notifikasi -->
    <div id="feedback-toast" class="toast"></div>

    <?!= include('JavaScript'); ?>
</body>
</html>

